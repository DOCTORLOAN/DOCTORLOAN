@{
    ViewData["Title"] = "Liên hệ";
}

<link href="~/libs/Bootstrap/bootstrap-datepicker3.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css">
<section id="ResForm">
    <div class="container">
        <div class="contact-main-section">
            <div class="bread-crumb-dtl"><a asp-controller="Contact" asp-action="Index"><i class="fas fa-arrow-left"></i>&nbsp; Quay lại</a></div>
            <div class="row rowlg">
                <div class="col-lg-8 col-12 collg">
                    <div class="frm-common">
                        <h4>Đăng ký tư vấn sức khỏe</h4>
                        <form method="post" asp-controller="Contact" asp-action="HealthAdvicePost" class="row mb-3 needs-validation">
                            @if (TempData["AlertMessageSuccess"] != null)
                            {
                                <div class="alert alert-success">
                                    @TempData["AlertMessageSuccess"]
                                </div>
                            }
                            @if (TempData["AlertMessageError"] != null)
                            {
                                <div class="alert alert-warning">
                                    @TempData["AlertMessageError"]
                                </div>
                            }
                            <div class="col-xl-6 col-lg-12 col-md-6 col-12 mb-frm has-validation">
                                <input type="text" class="form-control" id="txtName" name="LastName" placeholder="Họ" required>
                            </div>
                            <div class="col-xl-6 col-lg-12 col-md-6 col-12 mb-frm has-validation">
                                <input type="text" class="form-control" id="txtName" name="FirstName" placeholder="Tên" required>
                            </div>
                            <div class="col-xl-6 col-lg-12 col-md-6 col-12 mb-frm has-validation">
                                <input type="tel" class="form-control" id="txtPhone" name="Phone" placeholder="Số điện thoại" pattern="[0-9]{3}[0-9]{3}[0-9]{4}" required>
                            </div>
                            <div class="col-xl-6 col-lg-12 col-md-6 col-12 mb-frm">
                                <input type="date" class="form-control form_datetime" id="bookingdate" name="BookingDate" placeholder="Chọn thời gian" required>
                            </div>
                            <div class="col-xl-12 col-lg-12 col-md-6 col-12 mb-frm has-validation">
                                <input type="text" class="form-control" id="txtAddress" name="AddressLine" placeholder="Địa chỉ liên hệ" required>
                            </div>
                            <div class="col-xl-12 col-lg-12 col-md-6 col-12 mb-frm has-validation">
                                <textarea class="form-control" placeholder="Triệu chứng bệnh" name="Noted" rows="3"></textarea>
                            </div>
                            <div class="form-action">
                                <button class="btn btn-dtl" type="submit">Đăng ký</button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-lg-4 col-12 collg">
                    <div class="frm-common">
                        <h4>Đăng ký tài khoản</h4>
                        <p>Mời quý vị đăng ký thành viên để được hưởng nhiều lợi ích và hỗ trợ từ chúng tôi!</p>
                        <a href="javascript:void(0)" class="btn btn-outline-dtl">Đăng ký tài khoản</a>
                        <div class="action-res">
                            <span>Đã có tài khoản?</span>
                            <a href="javascript:void(0)">Đăng nhập</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
@section scripts{
    <script src="~/libs/Bootstrap/bootstrap-datepicker.js"></script>
    <script src="~/libs/Bootstrap/bootstrap-datepicker.vi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#nav-menu-container ul li").removeClass("menu-active");
            $("#nav-menu-container ul li").eq(6).addClass("menu-active");
        });


        flatpickr("#form_datetime", {
            altInput: true,
            altFormat: "F j, Y",
            dateFormat: "Y-m-d"
        });

        var currentDateTime = new Date();
        var year = currentDateTime.getFullYear();
        var month = (currentDateTime.getMonth() + 1);
        var date = (currentDateTime.getDate() + 1);

        if (date < 10) {
            date = '0' + date;
        }
        if (month < 10) {
            month = '0' + month;
        }

        var dateTomorrow = year + "-" + month + "-" + date;
        var bookingdate = document.querySelector("#bookingdate");
        bookingdate.setAttribute("min", dateTomorrow);

        bookingdate.onchange = function () {
            checkoutElem.setAttribute("min", this.value);
        }

        var forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')
                }, false)
            });
    </script>

}
